<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Orientation App - Test Simulation</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Test Simulation Styles */
        .test-panel {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 25px;
            border-radius: 20px;
            z-index: 10000;
            max-width: 320px;
            font-family: 'Inter', sans-serif;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }

        .test-panel h3 {
            margin: 0 0 20px 0;
            color: #fff;
            font-size: 1.2rem;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }

        .test-controls {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .test-btn {
            padding: 12px 16px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .test-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .test-btn:hover::before {
            left: 100%;
        }

        .test-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.4);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }

        .test-btn.active {
            background: rgba(40, 167, 69, 0.3);
            border-color: rgba(40, 167, 69, 0.5);
            box-shadow: 0 0 20px rgba(40, 167, 69, 0.3);
        }

        .orientation-info {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 15px;
            border-radius: 12px;
            margin-top: 20px;
            font-size: 0.85rem;
        }

        .orientation-info div {
            margin: 8px 0;
            color: rgba(255, 255, 255, 0.9);
        }

        .simulation-status {
            background: rgba(255, 193, 7, 0.2);
            border: 1px solid rgba(255, 193, 7, 0.4);
            padding: 15px;
            border-radius: 12px;
            margin-top: 20px;
            font-size: 0.85rem;
            backdrop-filter: blur(10px);
        }

        .feature-test {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 15px;
            border-radius: 12px;
            margin-top: 20px;
        }

        .feature-test h4 {
            margin: 0 0 12px 0;
            color: #ffd700;
            font-size: 0.9rem;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        .feature-test button {
            margin: 3px;
            padding: 8px 12px;
            font-size: 0.8rem;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: white;
            transition: all 0.3s ease;
        }

        .feature-test button:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-1px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        /* Override mobile detection for testing */
        .desktop-fallback {
            display: none !important;
        }

        .loading-screen {
            display: none !important;
        }

        /* Show all features for testing */
        .feature-container {
            display: flex !important;
            position: relative !important;
            height: auto !important;
            min-height: 400px;
            margin: 20px;
            border: 2px dashed #667eea;
            border-radius: 15px;
        }

        .feature-container::before {
            content: attr(id);
            position: absolute;
            top: -10px;
            left: 20px;
            background: #667eea;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .orientation-indicator {
            position: relative !important;
            top: auto !important;
            left: auto !important;
            margin: 20px;
        }
    </style>
</head>
<body>
    <!-- Test Simulation Panel -->
    <div class="test-panel">
        <h3><i class="fas fa-cog"></i> Test Simulation</h3>
        
        <div class="test-controls">
            <button class="test-btn" onclick="simulateOrientation('portrait-upright')">
                ðŸ“± Portrait Upright (Alarm)
            </button>
            <button class="test-btn" onclick="simulateOrientation('landscape')">
                ðŸ”„ Landscape (Stopwatch/Weather)
            </button>
            <button class="test-btn" onclick="simulateOrientation('portrait-upside-down')">
                ðŸ”ƒ Upside Down (Timer)
            </button>
        </div>

        <div class="orientation-info">
            <div><strong>Current:</strong> <span id="current-orientation">portrait-upright</span></div>
            <div><strong>Beta:</strong> <span id="current-beta">0Â°</span></div>
            <div><strong>Gamma:</strong> <span id="current-gamma">0Â°</span></div>
        </div>

        <div class="simulation-status">
            <strong>ðŸŽ¯ Test Mode Active</strong><br>
            All features visible for testing
        </div>

        <div class="feature-test">
            <h4>Quick Tests:</h4>
            <button class="test-btn" onclick="testAlarm()">Test Alarm (1 min)</button>
            <button class="test-btn" onclick="testTimer()">Test Timer (30 sec)</button>
            <button class="test-btn" onclick="testWeather()">Test Weather</button>
            <button class="test-btn" onclick="testStopwatch()">Test Stopwatch</button>
        </div>
    </div>

    <!-- Orientation Indicator -->
    <div id="orientation-indicator" class="orientation-indicator">
        <i class="fas fa-mobile-alt"></i>
        <span id="orientation-text">Test Mode - Portrait (Alarm)</span>
    </div>

    <!-- Alarm Clock Feature -->
    <div id="alarm" class="feature-container">
        <div class="feature-header">
            <i class="fas fa-clock"></i>
            <h1>Alarm Clock</h1>
        </div>
        
        <div class="content-card">
            <div class="current-time">
                <div id="current-time">--:--:--</div>
                <div id="current-date">Loading...</div>
            </div>

            <div class="alarm-controls">
                <div class="time-input-group">
                    <label for="alarm-hour">Hour</label>
                    <input type="number" id="alarm-hour" min="0" max="23" value="7">
                </div>
                <div class="time-input-group">
                    <label for="alarm-minute">Minute</label>
                    <input type="number" id="alarm-minute" min="0" max="59" value="0">
                </div>
            </div>

            <div class="alarm-actions">
                <button id="set-alarm" class="btn btn-primary">
                    <i class="fas fa-bell"></i> Set Alarm
                </button>
                <button id="stop-alarm" class="btn btn-danger" style="display: none;">
                    <i class="fas fa-stop"></i> Stop Alarm
                </button>
            </div>

            <div id="alarm-status" class="alarm-status"></div>
        </div>
    </div>

    <!-- Stopwatch Feature -->
    <div id="stopwatch" class="feature-container">
        <div class="feature-header">
            <i class="fas fa-stopwatch"></i>
            <h1>Stopwatch</h1>
        </div>

        <div class="content-card">
            <div class="stopwatch-display">
                <div id="stopwatch-time">00:00:00</div>
                <div id="stopwatch-milliseconds">.000</div>
            </div>

            <div class="stopwatch-controls">
                <button id="start-stopwatch" class="btn btn-success">
                    <i class="fas fa-play"></i> Start
                </button>
                <button id="pause-stopwatch" class="btn btn-warning" style="display: none;">
                    <i class="fas fa-pause"></i> Pause
                </button>
                <button id="reset-stopwatch" class="btn btn-secondary">
                    <i class="fas fa-redo"></i> Reset
                </button>
            </div>

            <div class="lap-times">
                <h3>Lap Times</h3>
                <div id="lap-list" class="lap-list"></div>
            </div>
        </div>
    </div>

    <!-- Timer Feature -->
    <div id="timer" class="feature-container">
        <div class="feature-header">
            <i class="fas fa-hourglass-half"></i>
            <h1>Timer</h1>
        </div>

        <div class="content-card">
            <div class="timer-display">
                <div id="timer-time">00:00</div>
            </div>

            <div class="timer-inputs">
                <div class="time-input-group">
                    <label for="timer-minutes">Minutes</label>
                    <input type="number" id="timer-minutes" min="0" max="59" value="5">
                </div>
                <div class="time-input-group">
                    <label for="timer-seconds">Seconds</label>
                    <input type="number" id="timer-seconds" min="0" max="59" value="0">
                </div>
            </div>

            <div class="timer-controls">
                <button id="start-timer" class="btn btn-success">
                    <i class="fas fa-play"></i> Start
                </button>
                <button id="pause-timer" class="btn btn-warning" style="display: none;">
                    <i class="fas fa-pause"></i> Pause
                </button>
                <button id="reset-timer" class="btn btn-secondary">
                    <i class="fas fa-redo"></i> Reset
                </button>
            </div>

            <div class="preset-timers">
                <button class="preset-btn" data-minutes="1">1 min</button>
                <button class="preset-btn" data-minutes="5">5 min</button>
                <button class="preset-btn" data-minutes="10">10 min</button>
                <button class="preset-btn" data-minutes="15">15 min</button>
            </div>
        </div>
    </div>

    <!-- Weather Feature -->
    <div id="weather" class="feature-container">
        <div class="feature-header">
            <i class="fas fa-cloud-sun"></i>
            <h1>Weather</h1>
        </div>

        <div class="weather-content">
            <div id="weather-loading" class="weather-loading">
                <i class="fas fa-spinner fa-spin"></i>
                <p>Loading weather data...</p>
            </div>

            <div id="weather-data" class="weather-data" style="display: none;">
                <div class="location">
                    <i class="fas fa-map-marker-alt"></i>
                    <span id="weather-location">Loading location...</span>
                </div>

                <div class="current-weather">
                    <div class="weather-icon">
                        <i id="weather-icon" class="fas fa-sun"></i>
                    </div>
                    <div class="temperature">
                        <span id="weather-temp">--</span>Â°C
                    </div>
                    <div class="weather-description" id="weather-description">
                        Loading...
                    </div>
                </div>

                <div class="weather-details">
                    <div class="detail-item">
                        <i class="fas fa-tint"></i>
                        <span>Humidity: <span id="weather-humidity">--</span>%</span>
                    </div>
                    <div class="detail-item">
                        <i class="fas fa-wind"></i>
                        <span>Wind: <span id="weather-wind">--</span> km/h</span>
                    </div>
                    <div class="detail-item">
                        <i class="fas fa-eye"></i>
                        <span>Visibility: <span id="weather-visibility">--</span> km</span>
                    </div>
                </div>
            </div>

            <div id="weather-error" class="weather-error" style="display: none;">
                <i class="fas fa-exclamation-triangle"></i>
                <p>Unable to load weather data</p>
                <button id="retry-weather" class="btn btn-primary">Retry</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // Test Simulation Script
        let currentSimulatedOrientation = 'portrait-upright';
        let simulatedBeta = 0;
        let simulatedGamma = 0;

        // Override mobile detection for testing
        function isMobileDevice() {
            return true; // Force mobile mode for testing
        }

        // Override orientation detection for testing
        function setupOrientationDetection() {
            // Don't set up real orientation detection in test mode
            console.log('Test mode: Orientation detection disabled');
            updateOrientation('portrait-upright');
        }

        // Simulate orientation changes
        function simulateOrientation(orientation) {
            currentSimulatedOrientation = orientation;
            
            // Update simulated angles
            switch(orientation) {
                case 'portrait-upright':
                    simulatedBeta = 0;
                    simulatedGamma = 0;
                    break;
                case 'portrait-upside-down':
                    simulatedBeta = 180;
                    simulatedGamma = 0;
                    break;
                case 'landscape':
                    simulatedBeta = 0;
                    simulatedGamma = 90;
                    break;
            }

            // Update display
            document.getElementById('current-orientation').textContent = orientation;
            document.getElementById('current-beta').textContent = simulatedBeta + 'Â°';
            document.getElementById('current-gamma').textContent = simulatedGamma + 'Â°';

            // Update orientation indicator
            const orientationLabels = {
                'portrait-upright': 'Test Mode - Portrait (Alarm)',
                'portrait-upside-down': 'Test Mode - Upside Down (Timer)',
                'landscape': 'Test Mode - Landscape (Stopwatch/Weather)'
            };
            document.getElementById('orientation-text').textContent = orientationLabels[orientation] || 'Test Mode';

            // Call the real updateOrientation function
            updateOrientation(orientation);
        }

        // Test functions
        function testAlarm() {
            simulateOrientation('portrait-upright');
            const now = new Date();
            const oneMinuteLater = new Date(now.getTime() + 60000);
            
            document.getElementById('alarm-hour').value = oneMinuteLater.getHours();
            document.getElementById('alarm-minute').value = oneMinuteLater.getMinutes();
            
            document.getElementById('set-alarm').click();
            console.log('Alarm set for 1 minute from now');
        }

        function testTimer() {
            simulateOrientation('portrait-upside-down');
            document.getElementById('timer-minutes').value = 0;
            document.getElementById('timer-seconds').value = 30;
            document.getElementById('start-timer').click();
            console.log('Timer started for 30 seconds');
        }

        function testWeather() {
            simulateOrientation('landscape');
            // Wait a bit for landscape to show weather
            setTimeout(() => {
                if (document.getElementById('retry-weather')) {
                    document.getElementById('retry-weather').click();
                }
            }, 100);
            console.log('Weather test triggered');
        }

        function testStopwatch() {
            simulateOrientation('landscape');
            // Wait a bit for landscape to show stopwatch
            setTimeout(() => {
                if (document.getElementById('start-stopwatch')) {
                    document.getElementById('start-stopwatch').click();
                }
            }, 100);
            console.log('Stopwatch test started');
        }

        // Initialize test mode
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ðŸ§ª Test Simulation Mode Active');
            console.log('Use the test panel to simulate different orientations');
            console.log('All features are visible for testing');
            
            // Initialize the app normally
            initializeApp();
            
            // Override the mobile detection
            if (typeof window.isMobileDevice === 'function') {
                window.isMobileDevice = isMobileDevice;
            }
        });

        // Add keyboard shortcuts for testing
        document.addEventListener('keydown', function(e) {
            switch(e.key) {
                case '1':
                    simulateOrientation('portrait-upright');
                    break;
                case '2':
                    simulateOrientation('landscape');
                    break;
                case '3':
                    simulateOrientation('portrait-upside-down');
                    break;
                case 'a':
                    testAlarm();
                    break;
                case 't':
                    testTimer();
                    break;
                case 'w':
                    testWeather();
                    break;
                case 's':
                    testStopwatch();
                    break;
            }
        });

        console.log('ðŸŽ® Keyboard shortcuts: 1=Alarm, 2=Landscape, 3=Timer, a=testAlarm, t=testTimer, w=testWeather, s=testStopwatch');
    </script>
</body>
</html> 